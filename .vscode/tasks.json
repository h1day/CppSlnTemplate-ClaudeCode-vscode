{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "üî® Build Debug",
      "type": "shell",
      "command": "msbuild",
      "args": [
        "cpp-sln-vscode.sln",
        "/m",
        "/p:Configuration=Debug",
        "/p:Platform=x64"
      ],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "detail": "Build project in Debug configuration (x64)",
      "problemMatcher": "$msCompile",
      "options": {
        "statusbar": {
          "label": "üî®Debug"
        }
      }
    },
    {
      "label": "üî® Build Release",
      "type": "shell",
      "command": "msbuild",
      "args": [
        "cpp-sln-vscode.sln",
        "/m",
        "/p:Configuration=Release",
        "/p:Platform=x64"
      ],
      "detail": "Build project in Release configuration (x64)",
      "problemMatcher": "$msCompile",
      "options": {
        "statusbar": {
          "label": "üî®Release"
        }
      }
    },
    {
      "label": "üßπ Clean Debug",
      "type": "shell",
      "command": "msbuild",
      "args": [
        "cpp-sln-vscode.sln",
        "/t:Clean",
        "/p:Configuration=Debug",
        "/p:Platform=x64"
      ],
      "detail": "Clean Debug build artifacts",
      "problemMatcher": "$msCompile",
      "options": {
        "statusbar": {
          "label": "üßπDebug"
        }
      }
    },
    {
      "label": "üßπ Clean Release",
      "type": "shell",
      "command": "msbuild",
      "args": [
        "cpp-sln-vscode.sln",
        "/t:Clean",
        "/p:Configuration=Release",
        "/p:Platform=x64"
      ],
      "detail": "Clean Release build artifacts",
      "problemMatcher": "$msCompile",
      "options": {
        "statusbar": {
          "label": "üßπRelease"
        }
      }
    },
    {
      "label": "üîç ReSharper Inspect",
      "type": "shell",
      "command": "jb",
      "args": [
        "inspectcode",
        "cpp-sln-vscode.sln",
        "--output=${workspaceFolder}/resharper-report.xml",
        "--format=Xml",
        "--verbosity=WARN"
      ],
      "group": "test",
      "detail": "Run ReSharper code inspection",
      "problemMatcher": {
        "owner": "resharper",
        "fileLocation": ["relative", "${workspaceFolder}"],
        "pattern": {
          "regexp": "^(.*):(\\d+):(\\d+):\\s+(warning|error|info)\\s+(.*)$",
          "file": 1,
          "line": 2,
          "column": 3,
          "severity": 4,
          "message": 5
        }
      },
      "options": {
        "statusbar": {
          "label": "üîçInspect"
        }
      }
    },
    {
      "label": "üîç ReSharper Inspect (Text Output)",
      "type": "shell",
      "command": "jb",
      "args": [
        "inspectcode",
        "cpp-sln-vscode.sln",
        "--output=${workspaceFolder}/resharper-report.txt",
        "--format=Text",
        "--verbosity=WARN"
      ],
      "group": "test",
      "detail": "Run ReSharper code inspection with text output",
      "problemMatcher": {
        "owner": "resharper-text",
        "fileLocation": ["relative", "${workspaceFolder}"],
        "pattern": {
          "regexp": "^\\s*(.+?):(\\d+)\\s+(.+)$",
          "file": 1,
          "line": 2,
          "message": 3,
          "severity": "warning"
        }
      },
      "options": {
        "statusbar": {
          "label": "üîçText"
        }
      }
    },
    {
      "label": "üîç ReSharper Inspect (Console)",
      "type": "shell",
      "command": "jb",
      "args": [
        "inspectcode",
        "cpp-sln-vscode.sln",
        "--verbosity=WARN",
        "--no-builtin-settings"
      ],
      "group": "test",
      "detail": "Run ReSharper code inspection with console output",
      "problemMatcher": {
        "owner": "resharper-console",
        "fileLocation": ["relative", "${workspaceFolder}"],
        "pattern": {
          "regexp": "^\\s*(.+?):(\\d+)\\s+(.+)$",
          "file": 1,
          "line": 2,
          "message": 3,
          "severity": "warning"
        }
      },
      "options": {
        "statusbar": {
          "label": "üîçConsole"
        }
      }
    },
    {
      "label": "üîç ReSharper Inspect (XML Converted)",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-ExecutionPolicy", "Bypass",
        "-Command",
        "jb inspectcode cpp-sln-vscode.sln --output=resharper-report.xml --format=Xml --verbosity=WARN; if ($LASTEXITCODE -eq 0) { .\\convert-resharper-xml.ps1 -InputFile resharper-report.xml }"
      ],
      "group": "test",
      "detail": "Run ReSharper inspection and convert XML to VS Code format",
      "problemMatcher": {
        "owner": "resharper-xml",
        "fileLocation": ["relative", "${workspaceFolder}"],
        "pattern": {
          "regexp": "^(.+?):(\\d+):(\\d+):\\s+(error|warning|info):\\s+(.+)$",
          "file": 1,
          "line": 2,
          "column": 3,
          "severity": 4,
          "message": 5
        }
      },
      "options": {
        "statusbar": {
          "label": "üîçXML"
        }
      }
    },
    {
      "label": "üîç ReSharper Inspect (SARIF)",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-ExecutionPolicy", "Bypass",
        "-File", "convert-sarif.ps1",
        "-InputFile", "resharper-report.sarif"
      ],
      "group": "test",
      "detail": "Convert existing SARIF report to VS Code format",
      "dependsOn": "üîç ReSharper Generate SARIF",
      "problemMatcher": {
        "owner": "resharper-sarif",
        "fileLocation": ["relative", "${workspaceFolder}"],
        "pattern": {
          "regexp": "^(.+?):(\\d+):(\\d+):\\s+(error|warning|info):\\s+(.+?)\\s+\\[(.+?)\\]$",
          "file": 1,
          "line": 2,
          "column": 3,
          "severity": 4,
          "message": 5,
          "code": 6
        }
      },
      "options": {
        "statusbar": {
          "label": "üîçSARIF"
        }
      }
    },
    {
      "label": "üîç ReSharper Generate SARIF",
      "type": "shell",
      "command": "jb",
      "args": [
        "inspectcode",
        "cpp-sln-vscode.sln",
        "--output=resharper-report.sarif",
        "--format=Sarif",
        "--verbosity=WARN"
      ],
      "group": "test",
      "detail": "Generate SARIF report from ReSharper inspection",
      "options": {
        "statusbar": {
          "hide": true
        }
      }
    }
  ]
}
